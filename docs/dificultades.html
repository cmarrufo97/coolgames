<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        
<link href="./assets/9c3701da/css/bootstrap.css" rel="stylesheet">
<link href="./assets/f080e289/solarized_light.css" rel="stylesheet">
<link href="./assets/56c772f8/style.css" rel="stylesheet">
<script src="./assets/d4bbc58e/jquery.js"></script>
<script src="./assets/9c3701da/js/bootstrap.js"></script>
<script src="./assets/7cf174cf/jssearch.js"></script>    <title>Dificultades encontradas - Dificultades encontradas - Guía del proyecto</title>
</head>
<body>

<div class="wrap">
    <nav id="w58" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w58-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Guía del proyecto</a></div><div id="w58-collapse" class="collapse navbar-collapse"><ul id="w59" class="navbar-nav nav"><li><a href="./api/index.html">Class reference</a></li>
<li><a href="./README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-48" data-toggle="collapse" data-parent="#navigation">Descripción general <b class="caret"></b></a><div id="navigation-48" class="submenu panel-collapse collapse"><a class="list-group-item" href="./descripcion.html#funcionalidad-principal-de-la-aplicacion">Funcionalidad principal de la aplicación</a>
<a class="list-group-item" href="./descripcion.html#objetivos-generales">Objetivos generales</a>
<a class="list-group-item" href="./descripcion.html#url-del-repositorio">URL del repositorio</a>
<a class="list-group-item" href="./descripcion.html#url-de-la-documentacion">URL de la documentación</a></div>
<a class="list-group-item" href="#navigation-49" data-toggle="collapse" data-parent="#navigation">Instrucciones de instalación y despliegue <b class="caret"></b></a><div id="navigation-49" class="submenu panel-collapse collapse"><a class="list-group-item" href="./instalacion.html#en-local">En local</a>
<a class="list-group-item" href="./instalacion.html#en-la-nube">En la nube</a></div>
<a class="list-group-item" href="#navigation-50" data-toggle="collapse" data-parent="#navigation">Catálogo de requisitos <b class="caret"></b></a><div id="navigation-50" class="submenu panel-collapse collapse"><a class="list-group-item" href="./requisitos.html#cuadro-resumen">Cuadro resumen</a></div>
<a class="list-group-item" href="#navigation-51" data-toggle="collapse" data-parent="#navigation">Manual de usuario <b class="caret"></b></a><div id="navigation-51" class="submenu panel-collapse collapse"><a class="list-group-item" href="./manual.html">Manual de usuario</a></div>
<a class="list-group-item" href="#navigation-52" data-toggle="collapse" data-parent="#navigation">Decisiones adoptadas <b class="caret"></b></a><div id="navigation-52" class="submenu panel-collapse collapse"><a class="list-group-item" href="./decisiones.html">Decisiones adoptadas</a></div>
<a class="list-group-item active" href="#navigation-53" data-toggle="collapse" data-parent="#navigation">Dificultades encontradas <b class="caret"></b></a><div id="navigation-53" class="submenu panel-collapse collapse in"><a class="list-group-item active" href="./dificultades.html">Dificultades encontradas</a></div>
<a class="list-group-item" href="#navigation-54" data-toggle="collapse" data-parent="#navigation">Diagramas <b class="caret"></b></a><div id="navigation-54" class="submenu panel-collapse collapse"><a class="list-group-item" href="./diagramas.html#diagramas-de-clases">Diagramas de clases</a>
<a class="list-group-item" href="./diagramas.html#diagramas-de-estructura-logica-de-datos">Diagramas de estructura lógica de datos</a></div>
<a class="list-group-item" href="#navigation-55" data-toggle="collapse" data-parent="#navigation">Glosario de términos <b class="caret"></b></a><div id="navigation-55" class="submenu panel-collapse collapse"><a class="list-group-item" href="./glosario.html">Glosario de términos</a></div>
<a class="list-group-item" href="#navigation-56" data-toggle="collapse" data-parent="#navigation">Conclusiones <b class="caret"></b></a><div id="navigation-56" class="submenu panel-collapse collapse"><a class="list-group-item" href="./conclusiones.html">Conclusiones</a></div>
<a class="list-group-item" href="#navigation-57" data-toggle="collapse" data-parent="#navigation">Anexos <b class="caret"></b></a><div id="navigation-57" class="submenu panel-collapse collapse"><a class="list-group-item" href="./anexos.html">Anexos</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Dificultades encontradas <span id="dificultades-encontradas"></span><a href="#dificultades-encontradas" class="hashlink">&para;</a></h1><h3>Comentarios Anidados <span id="comentarios-anidados"></span><a href="#comentarios-anidados" class="hashlink">&para;</a></h3><p>Dado que en los comentarios de perfil de los usuarios (donde otros usuarios publican comentarios hacia otros usuarios), se puede responder a otros comentarios la visualización de los mismos no se apreciaba, ya que no se sabia que comentario era respuesta de otro. Para resolver este problema de visualización he tenido que investigar como hacer que, dado un comentario con respuestas, estos se vean anidados, es decir, primero el comentario padre y luego los hijos anidandose. Para ello he investigado y basicamente es que, con ayuda de una clase Comentario voy creando comentarios y añadiendo sus hijos para luego ir recorriendolos, si se da el caso de que tengan hijos pues a esos comentarios hijos se le da un margin-left para que se aprecia la anidación.</p>
<h3>StarRating Krajee <span id="starrating-krajee"></span><a href="#starrating-krajee" class="hashlink">&para;</a></h3><p>El plugin de StarRating es el plugin de krajee mediante el cual puedes realizar la votación de un juego concreto a través de las típicas estrellas (como en Google Play,e tc). El problema que he tenido ha sido que, el plugin del krajee generaba el mismo id en el widget, entonces, dado que en la tienda muestro el plugin por cada juego, me daba errores en la consola. Para ello he tenido que investigar por foros de yii2 framework como poder cambiar atributos del formulario que envía la valoración sin que perdiese la validación del modelo.</p>
<h3>PayPal de bitcko/yii2-bitcko-paypal-api <span id="paypal-de-bitckoyii2-bitcko-paypal-api"></span><a href="#paypal-de-bitckoyii2-bitcko-paypal-api" class="hashlink">&para;</a></h3><p>Para implementar el pago por PayPal he usado el plugin de bitcko, mencionado en el título.</p>
<p>El principal problema que he tenido aquí ha sido que, en el ejemplo que muestra el autor del plugin, siempre mete el mismo valor a cobrar. Es decir, en las dos acciones (checkout y payment) que necesita el plugin la variable $params siempre deben coincidir en el precio para que el pago se realize de verdad, es decir, que se reste, y, dado que cada juego tiene un precio, pues esto era un problema. Para solucionar este problema, he usado el $_SESSION para pasar de una acción a otra, y, una vez se realiza el pago y demás gestiones, la borro.</p>
<hr />
<h1>Elementos de innovación <span id="elementos-de-innovacion"></span><a href="#elementos-de-innovacion" class="hashlink">&para;</a></h1><h4>AWS S3 <span id="aws-s3"></span><a href="#aws-s3" class="hashlink">&para;</a></h4><p>He usado el servicio de Amazon S3 para el almacenamiento web.</p>
<h4>PayPal <span id="paypal"></span><a href="#paypal" class="hashlink">&para;</a></h4><p>Pagos de los juegos mediante la API de PayPal. Dichos pagos se realizan de manera ficticia, con las cuentas sandbox que PayPal proporciona al crear una app. Pero en el día de mañana si disponemos de una cuenta business y las credenciales para acceder a la API, pues esto funcionaría perfectamente igual.</p>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Mon, 15 Jun 2020 18:44:15 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
